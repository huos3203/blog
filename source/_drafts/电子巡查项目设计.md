---
title: 电子巡查项目设计
date: 2019-06-11 07:03:20+0800 
updated: 2019-06-11 07:03:20+0800 
comments: true
---
## 工期预估
```puml
scale 2 
title 电子巡查工期估算
center header
通过需求评审,分解需求按照原型图划分任务模块
endheader

project starts 2019-06-11 
Sunday are closed
Saturday are closed
--电子巡查录入--
[电子巡查录入] as [onlinePatrol]  on {hsg}  lasts 5 days
[重构录入界面] as [resetlr] lasts 1 days
[录入详情页] as [lrdetail] lasts 1 days
[图片编辑器] as [picediter] lasts 1 days
[检查项选择器] as [optionSelecter] lasts 1 days
[串联业务联调接口] as [lrother] on {wf} lasts 1 days
then [录入结束] happens at [onlinePatrol]'s end
--开始整改列表--
[整改及列表] as [fixPlist]  on {pk}  lasts 4 days
[整改管理列表] as [fixlist] lasts 1 days
[电子巡查列表] as [patrollist] lasts 1 days
[复用整改页] as [fixP] lasts 1 days
[联调接口串联业务] as [zhgother] on {wf} lasts 1 days
then [整改结束] happens at [fixPlist]'s end

[resetlr] -> [lrdetail]
[lrdetail] -> [picediter]
[picediter] -> [optionSelecter]
[optionSelecter] -> [lrother]
[fixlist] -> [patrollist]
[patrollist] -> [fixP]
[fixP] -> [zhgother]
```
### 用例

用例图
截屏--标记--分组到检项--更新电子巡查

```puml
title 电子巡查录入业务用例图
center header
分两个模块来实现用例的描述
1. 图片标记分组
2. 提交业务
endheader

usecase jt as "截图:通过远程后厨摄像头，实时抓取现场图片
"
usecase mark as "
**图片批注**
--id--
1
==基础操作流程==
在现场图片上
1. 选画笔工具
    标重点,支持颜色切换
2. 选文本工具
    批改备注,支持拖放放大,旋转,切换颜色
..可选操作流程..
画笔粗细/文本字体样式布局
"
usecase check as "
**检查项分组**
--id--
2
==基础操作流程==
对检查的内容进行分组
完成批准之后，进入检查项分组
1. 二级目录结构,参考原型图
2. **支持多选（跨分类中的多选）**
..可选操作流程..
"
usecase update as "
==**更新UI:图片检查项分组**==
3
--基础操作流程--
检查图片完成后,更新电子巡查录入页中的图片模块UI
    1. 刷新检查项个数
    2. 刷新检查项图片的个数
    3. 点击检查项大图预览
    4. --<font color=red>上传图片成功失败问题</font>--
..可选操作流程..

"
:巡查人: as ren
usecase result as "
==**检查结果/处理方式**==
设置检查结果和处理方式
--基础操作流程--
默认设置:通过图片检查项的个数判断默认结果
手动设置: 检查人人为设置
..可选操作流程..
--**不支持动态判断结果**--.
"
usecase commit as "
==**提交巡查结果**==
搜集电子巡查的基本数据,提交服务器
--基础操作流程--
校验检查结果,录屏视频上传成功
提交数据
..可选操作流程..
"
usecase chul as "
==**处理巡查记录**==
提交巡查信息之后,开始处理是否整改/发布任务
--基础操作流程--
根据结果判断是否弹出处理菜单
1. 发起整改,跳转至整改页面
2. 发布任务,跳转分配任务中
..可选操作流程..
"

ren --> jt: 抓取实时图像
jt --> mark : 在检查图片上做批注
mark --> check:对检查内容分组
check --> update:更新录入页面UI

update -right-> result :处理结果
result --> commit :校验数据提交操作
commit --> chul :发起其他事物
chul --> (发起整改):执法人开始整改
chul --> (发布任务):管理员发布任务

```


整改

二级布局器入口配置/电子巡查底部详情 1
复用旧版电子整改管理列表(新增过滤器)待定页 1
电子巡查记录(列表/过滤器) 1
复用/详情页(数据源变更,新增视频类型) 1天
录入

电子巡查录入:

重构录入界面UI/详情页UI(待定问题图片布局) 2天
图片编辑器 1天
检查 1
联调接口串联业务层 1天
