---
title: 暂存机制时序图
date: 2019-05-30 18:46:15
updated: 2019-05-30 18:46:15
comments: true
tags: []
categories: 分类
keywords: 
permalink: 
---
## UML时序图

```puml
title 时序图
center header
使用类的生命线来描述用例在代码中执行的具体流程
参与者：actor，boundary,control,entity,database
参与者支持as别名
生命线: --> <--
消息
endheader

'******* 类声明模块 *******'
actor 巡查员 as patrol
entity 检查记录 as record
control 拍照 as paizhao
database 图库 as imgdb
control 上传器 as uploader
database 请求库 as reqdb
control 任务服务器 as server 
==拍照服务==
patrol --> record:五定拍照指令

record --> paizhao: 五定一
activate paizhao 
paizhao --> imgdb :图片1model数据
activate imgdb
imgdb --> uploader:上传图片
activate uploader
uploader --> imgdb:更新status=2
deactivate uploader
deactivate paizhao
deactivate imgdb

==提交服务==
record --> reqdb:存储suRequest数据

activate record
activate reqdb
reqdb --> imgdb:查询检查项所有的图片状态
activate imgdb
imgdb --> reqdb:更新请求记录
deactivate imgdb
deactivate reqdb
reqdb --> server:提交检查项
activate server
server --> reqdb:清除请求记录
server --> imgdb:清空图片记录
deactivate server
deactivate record

center footer
完成
endfooter
```
